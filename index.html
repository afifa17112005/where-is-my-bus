<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Where Is My Bus?</title>
  <link rel="stylesheet" href="style.css">

  <!-- Firebase v8 -->
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>
  <script src="firebaseConfig.js"></script>
</head>

<body>

<!-- ðŸ” AUTH CHECK -->
<script>
firebase.auth().onAuthStateChanged(user => {
  if (!user) {
    window.location.href = "login.html";
  }
});
</script>

<div class="hero">

  <img src="bus-logo.png" class="logo"
       onerror="this.src='https://cdn-icons-png.flaticon.com/512/61/61231.png'">

  <h1>Where Is My Bus?</h1>
  <p class="subtitle">Real-Time Public Transport Tracking System</p>

  <div class="search-card">
    <input list="locations" id="from" placeholder="From">
    <input list="locations" id="to" placeholder="To">
    <button onclick="searchRoutes()">Search Routes</button>
  </div>

  <button onclick="logout()" style="margin-top:20px;width:200px;">
    Logout
  </button>
</div>

<datalist id="locations">
  <option value="Tambaram">
  <option value="Chromepet">
  <option value="Guindy">
  <option value="Saidapet">
  <option value="T Nagar">
  <option value="Adyar">
  <option value="CMBT">
  <option value="Anna Nagar">
  <option value="Koyambedu">
  <option value="Perungudi">
  <option value="OMR">
  <option value="Velachery">
  <option value="Adambakkam">
  <option value="Pallavaram">
  <option value="Alandur">
  <option value="Egmore">
  <option value="Chennai Central">
</datalist>

<script>
function searchRoutes() {
  const from = document.getElementById("from").value.trim();
  const to = document.getElementById("to").value.trim();
  if (!from || !to) return alert("Enter both locations");
  window.location.href = `routes.html?from=${from}&to=${to}`;
}

function logout() {
  firebase.auth().signOut().then(() => {
    window.location.href = "login.html";
  });
}
</script>

</body>
</html>
